<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:rep="internal"
    jcr:primaryType="cq:Dialog"
    jcr:mixinTypes="[rep:AccessControllable]"
    title="Header"
    hideTab="function(tabToHide) { if(!this.hiddenTabs){this.hiddenTabs=[];} this.hiddenTabs.push(tabToHide); this.findByType('tabpanel')[0].hideTabStripItem(tabToHide); }"
    xtype="dialog">
    <items jcr:primaryType="cq:WidgetCollection">
        <tabs jcr:primaryType="cq:TabPanel">
            <items jcr:primaryType="cq:WidgetCollection">
                <inheritTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/components/common/inherit/dialog/items/tabs/items/inheritTab.infinity.json"
                        xtype="cqinclude" />
                <styleTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/common/items/styleTab.infinity.json"
                        xtype="cqinclude" />
                <accessibilityTab jcr:primaryType="cq:Panel"
                                  path="/apps/aemdesign/global/dialog/classic/common/items/accessibilityTab.infinity.json"
                                  xtype="cqinclude"/>
                <tab-background
                        jcr:primaryType="cq:Widget"
                        allowUpload="{Boolean}false"
                        name="./bgimage/file"
                        title="Background Image"
                        ddGroups="[media]"
                        cropParameter="./bgimage/imageCrop"
                        fileNameParameter="./bgimage/fileName"
                        fileReferenceParameter="./bgimage/fileReference"
                        rotateParameter="./bgimage/imageRotate"
                        mapParameter="./bgimage/imageMap"
                        xtype="html5smartimage"
                        />
                <tab-logo
                        jcr:primaryType="cq:Widget"
                        allowUpload="{Boolean}false"
                        name="./logo/file"
                        title="Logo"
                        ddGroups="[media]"
                        cropParameter="./logo/imageCrop"
                        fileNameParameter="./logo/fileName"
                        fileReferenceParameter="./logo/fileReference"
                        rotateParameter="./logo/imageRotate"
                        mapParameter="./logo/imageMap"
                        xtype="html5smartimage"
                        />
                <tab-hidden
                        jcr:primaryType="cq:Panel"
                        title="Hidden"
                        xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <header
                                jcr:primaryType="cq:Widget"
                                collapsed="{Boolean}false"
                                collapsible="{Boolean}false"
                                xtype="dialogfieldset">
                            <items jcr:primaryType="cq:WidgetCollection">
                                <hidden-label
                                        jcr:primaryType="cq:Widget"
                                        xtype="label"
                                        text="this is a hidden tab with additional fields for saving content"/>
                                <tab-background-resType
                                        jcr:primaryType="cq:Widget"
                                        ignoreData="{Boolean}true"
                                        name="./bgimage/sling:resourceType"
                                        value="/apps/aemdesign/components/media/image"
                                        xtype="hidden"/>
                                <tab-logo-resTypeLogo
                                        jcr:primaryType="cq:Widget"
                                        ignoreData="{Boolean}true"
                                        name="./logo/sling:resourceType"
                                        value="/apps/aemdesign/components/media/image"
                                        xtype="hidden"/>
                            </items>
                        </header>
                    </items>
                </tab-hidden>

            </items>
        </tabs>
    </items>
    <rep:policy jcr:primaryType="rep:ACL">
        <deny
            jcr:primaryType="rep:DenyACE"
            rep:principalName="contributor"
            rep:privileges="{Name}[jcr:read]" />
    </rep:policy>
</jcr:root>
