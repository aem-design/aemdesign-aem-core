<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          jcr:primaryType="cq:Dialog"
          helpPath="en/cq/current/wcm/default_components.html#Image"
          selectTab="function(tabToSelect) { AEMDESIGN.dialog.manageTabs(this.findByType('tabpanel')[0],tabToSelect,true); }"
          hideTab="function(tabToHide) { AEMDESIGN.dialog.hideTab(tabToHide, this.findByType('tabpanel')[0]); }"
          includeTab="function(tabToInclude) { AEMDESIGN.dialog.includeTab(tabToInclude, this.findByType('tabpanel')[0]); }"
          title="Content Tabs"
          xtype="dialog">
    <items jcr:primaryType="cq:WidgetCollection">
        <tabs jcr:primaryType="cq:TabPanel" xtype="tabpanel">
            <items jcr:primaryType="cq:WidgetCollection">
                <basicTab
                        jcr:primaryType="cq:Panel"
                        title="Basic"
                        name="basicTab"
                        xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').includeTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <listFrom
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                fieldLabel="Build Tab's list using"
                                name="./listFrom"
                                type="select"
                                xtype="selection">
                            <listeners
                                    jcr:primaryType="nt:unstructured"
                                    loadcontent="function(){ this.findParentByType('dialog').selectTab(this.getValue());}"
                                    selectionchanged="function(box,value){ box.findParentByType('dialog').selectTab(value); }"/>
                            <options jcr:primaryType="cq:WidgetCollection">
                                <children
                                        jcr:primaryType="nt:unstructured"
                                        text="Child pages"
                                        value="children"/>
                                <static
                                        jcr:primaryType="nt:unstructured"
                                        text="Fixed list"
                                        value="static"/>
                            </options>
                        </listFrom>
                    </items>
                </basicTab>
                <children
                        jcr:primaryType="cq:Panel"
                        title="Child pages"
                        name="children"
                        xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <pathToParent
                                jcr:primaryType="cq:Widget"
                                allowBlank="{Boolean}true"
                                fieldDescription="The path of parent page to the Content Tab Contents"
                                fieldLabel="Path To Parent Page"
                                name="./pathToParent"
                                xtype="pathfield"/>
                    </items>
                </children>
                <static
                        jcr:primaryType="cq:Panel"
                        title="Fixed list"
                        name="static"
                        xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <pages
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Click the '+' to add a new page"
                                fieldLabel="Pages"
                                name="./tabPages"
                                xtype="multifield">
                            <fieldConfig
                                    jcr:primaryType="cq:Widget"
                                    allowBlank="{Boolean}true"
                                    width="155"
                                    xtype="pathfield"/>
                        </pages>
                    </items>
                </static>
                <styleTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/common/items/styleTab.infinity.json"
                        xtype="cqinclude"/>
                <accessibilityTab jcr:primaryType="cq:Panel"
                                  path="/apps/aemdesign/global/dialog/classic/common/items/accessibilityTab.infinity.json"
                                  xtype="cqinclude"/>

            </items>
        </tabs>
    </items>
</jcr:root>
