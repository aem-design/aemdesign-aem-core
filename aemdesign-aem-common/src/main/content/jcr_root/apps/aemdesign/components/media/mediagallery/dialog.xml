<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
    jcr:primaryType="cq:Dialog"
    title="Slider Image Gallery"
    selectTab="function(tabToSelect) { WKCD.author.components.list.manageTabs(this.findByType('tabpanel')[0],tabToSelect,false); }"
    hideTab="function(tabToHide) { WKCD.author.components.list.hideTab(tabToHide, this.findByType('tabpanel')[0]); }"
    xtype="dialog">

    <items jcr:primaryType="cq:WidgetCollection">
        <tabs jcr:primaryType="cq:TabPanel">
            <items jcr:primaryType="cq:WidgetCollection">
                <!-- basic information tab -->
                <listTab jcr:primaryType="cq:Panel" title="Basic">

                    <items jcr:primaryType="cq:WidgetCollection">
                        <listFrom
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                fieldLabel="Build list using"
                                name="./listFrom"
                                type="select"
                                xtype="selection">
                            <listeners
                                    jcr:primaryType="nt:unstructured"
                                    loadcontent="function(){ this.findParentByType('dialog').selectTab(this.getValue());}"
                                    selectionchanged="function(box,value){ box.findParentByType('dialog').selectTab(value); }"/>
                            <options jcr:primaryType="cq:WidgetCollection">
                                <children
                                        jcr:primaryType="nt:unstructured"
                                        text="Child pages"
                                        value="children"/>
                                <static
                                        jcr:primaryType="nt:unstructured"
                                        text="Fixed list"
                                        value="static"/>
                                <damCollection
                                        jcr:primaryType="nt:unstructured"
                                        text="DAM Collection"
                                        value="collection"/>
                            </options>
                        </listFrom>
                    </items>
                </listTab>
                <childrenTab
                        jcr:primaryType="cq:Widget"
                        title="Child pages"
                        xtype="panel"
                        name="children">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <listPath
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Leave empty to use current page"
                                fieldLabel="Parent page"
                                rootPath="/content"
                                name="./listPath"
                                xtype="pathfield"/>
                    </items>
                </childrenTab>
                <staticTab
                        jcr:primaryType="cq:Widget"
                        title="Fixed list"
                        xtype="panel"
                        name="static">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <listItems
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Click the '+' to add a new page"
                                fieldLabel="Items"
                                name="./listItems"
                                xtype="multifield">
                            <fieldConfig
                                    jcr:primaryType="cq:Widget"
                                    allowBlank="{Boolean}true"
                                    width="155"
                                    xtype="pathfield"/>
                        </listItems>
                    </items>
                </staticTab>
                <damCollectionTab
                        jcr:primaryType="cq:Widget"
                        title="DAM Collection"
                        xtype="panel"
                        name="collection">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <listCollections
                                jcr:primaryType="cq:Widget"
                                allowBlank="{Boolean}true"
                                defaultValue=""
                                value=""
                                fieldLabel="Collection"
                                name="./collection"
                                options="/bin/querybuilder.json?path=/content/dam/collections/&amp;property=sling:resourceType&amp;property.value=dam/collection"
                                optionsTextField="title"
                                optionsValueField="path"
                                optionsRoot="hits"
                                type="select"
                                xtype="selection" />

                        <assetViewerPage jcr:primaryType="cq:Widget"
                                fieldLabel="Asset Viewer Page Path"
                                name="./assetViewerPagePath"
                                rootPath="/content"
                                fieldDescription="The location of the Asset Viewer Page to use"
                                xtype="pathfield"/>
                    </items>
                </damCollectionTab>
                <layout
                        jcr:primaryType="cq:Widget"
                        title="Layout"
                        xtype="panel">
                    <items jcr:primaryType="cq:WidgetCollection">
                        <lightbox_size
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Note: Max width and height will be crop at 70%. If these fields have no value then it will resize to original size of picture. The content display size in lightbox of a page, which it is determined by the the first video or media gallery from the page."
                                fieldLabel="Lightbox Media Display Area"
                                heightParameter="./lightboxHeight"
                                heightSuffix="%"
                                widthParameter="./lightboxWidth"
                                widthSuffix="%"
                                xtype="sizefield"/>
                        <titleAltPrefixText
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Prefix text for hover"
                                name="./titleAltPrefixText"
                                xtype="textfield"/>

                        <variant
                                jcr:primaryType="cq:Widget"
                                allowBlank="{Boolean}true"
                                defaultValue=""
                                value=""
                                fieldLabel="Variant"
                                name="./variant"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">

                                <default
                                        jcr:primaryType="nt:unstructured"
                                        value=""
                                        text="Default" />
                                <slider
                                        jcr:primaryType="nt:unstructured"
                                        value="default"
                                        text="Slider" />
                                <montageAssetViewer
                                        jcr:primaryType="nt:unstructured"
                                        value="montage.assetviewer"
                                        text="Montage - Asset Viewer" />

                                <montageLightbox
                                        jcr:primaryType="nt:unstructured"
                                        value="montage.lightbox"
                                        text="Montage - Light Box" />
                            </options>
                        </variant>

                    </items>

                </layout>
                <styleTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/common/items/styleTab.infinity.json"
                        xtype="cqinclude" />



            </items>
        </tabs>
    </items>


</jcr:root>
