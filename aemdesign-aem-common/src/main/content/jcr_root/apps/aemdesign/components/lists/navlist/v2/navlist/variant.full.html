<template data-sly-template.variant="${@ componentProperties}">
  <div style="${componentProperties.attr.attributes.style @ context = 'unsafe'}"
       data-sly-attribute="${componentProperties.attr.attributes @ context = 'unsafe'}">

    <!--/* first level */-->
    <sly data-sly-list.link="${componentProperties.menuItems}">

      <h1 style="${link.current ? ' active' : ''}">
        <a href="${link.href}" title="${'{0} {1}' @ format=[componentProperties.linkTitlePrefix,link.title]}">
          <span>${link.pageNavTitle}</span>
        </a>
      </h1>

      <!--/* second level */-->
      <sly data-sly-list.link2="${link.children}">

        <h2 style="${!link2.current ? 'display: none;' : ''}">
          <a href="${wcmmode.edit ? link2.authHref : link2.href}"
             title="${'{0} {1}' @ format=[componentProperties.linkTitlePrefix,link2.title]}"><span>${link2.pageNavTitle}</span></a>
        </h2>

        <!--/* third level */-->
        <ul style="${!link2.current ? 'display: none;' : ''}" data-sly-list.link3="${link2.children}" itemscope
            itemtype="http://www.schema.org/SiteNavigationElement">

          <li class="${link3.current ? ' active' : ''}" itemprop="name">
            <a href="${wcmmode.edit ? link3.authHref : link3.href}"
               title="${'{0} {1}' @ format=[componentProperties.linkTitlePrefix,link3.title]}"><span>${link3.pageNavTitle}</span></a>

            <!--/* forth level */-->
            <ul style="${!link3.current ? 'display: none;' : ''}" data-sly-list.link4="${link3.children}">

              <li class="${link4.current ? ' active' : ''}">
                <a href="${wcmmode.edit ? link4.authHref : link4.href}"
                   title="${'{0} {1}' @ format=[componentProperties.linkTitlePrefix,link4.title]}">
                  <span>${link4.pageNavTitle}</span>
                </a>

              </li>
            </ul>

          </li>

        </ul>
      </sly>
    </sly>
  </div>
</template>
