<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Dialog"
    helpPath="en/cq/current/wcm/default_components.html#List"
    title="List"
    selectTab="function(tabToSelect) { AEMDESIGN.author.components.list.manageTabs(this.findByType('tabpanel')[0],tabToSelect,true); }"
    hideTab="function(tabToHide) { AEMDESIGN.author.components.list.hideTab(tabToHide, this.findByType('tabpanel')[0]); }"
    includeTab="function(tabToInclude) { AEMDESIGN.dialog.includeTab(tabToInclude, this.findByType('tabpanel')[0]); }"
    xtype="dialog">
    <items jcr:primaryType="cq:WidgetCollection">
        <tabs jcr:primaryType="cq:TabPanel" xtype="tabpanel">
            <items jcr:primaryType="cq:WidgetCollection">
                <listTab
                    jcr:primaryType="cq:Widget"
                    title="List"
                    name="listTab"
                    xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').includeTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <listFrom
                            jcr:primaryType="cq:Widget"
                            defaultValue=""
                            fieldLabel="Build list using"
                            name="./listFrom"
                            type="select"
                            xtype="selection">
                            <listeners
                                jcr:primaryType="nt:unstructured"
                                loadcontent="function(){ this.findParentByType('dialog').selectTab(this.getValue());}"
                                selectionchanged="function(box,value){ box.findParentByType('dialog').selectTab(value); }"/>
                            <options jcr:primaryType="cq:WidgetCollection">
                                <children
                                    jcr:primaryType="nt:unstructured"
                                    text="Child pages"
                                    value="children"/>
                                <descendants
                                    jcr:primaryType="nt:unstructured"
                                    text="Descendant pages"
                                    value="descendants"/>
                                <static
                                    jcr:primaryType="nt:unstructured"
                                    text="Fixed list"
                                    value="static"/>
                                <tags
                                    jcr:primaryType="nt:unstructured"
                                    text="Tags"
                                    value="tags"/>
                                <search
                                    jcr:primaryType="nt:unstructured"
                                    text="Search"
                                    value="search"/>
                                <querybuilder
                                    jcr:primaryType="nt:unstructured"
                                    text="Advanced Search"
                                    value="querybuilder"/>
                            </options>
                        </listFrom>

                        <orderBy
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Enter a property like 'jcr:created'"
                            fieldLabel="Order by"
                            name="./orderBy"
                            type="select"
                            xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <title
                                    jcr:primaryType="nt:unstructured"
                                    value="jcr:title"/>
                                <created
                                    jcr:primaryType="nt:unstructured"
                                    value="jcr:created"/>
                                <modified
                                    jcr:primaryType="nt:unstructured"
                                    value="cq:lastModified"/>
                                <template
                                    jcr:primaryType="nt:unstructured"
                                    value="cq:template"/>
                            </options>
                        </orderBy>
                        <limit
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Maximum number of items displayed in list"
                            fieldLabel="Limit"
                            name="./limit"
                            xtype="numberfield"/>
                        <pagination
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Paginate after"
                            name="./pageMax"
                            xtype="numberfield"/>

                        <paginationType
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                value=""
                                allowBlank="{Boolean}true"
                                fieldLabel="Pagination Type"
                                name="./paginationType"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <default
                                        jcr:primaryType="nt:unstructured"
                                        text="Default"
                                        value=""/>
                               <prev_next_pages
                                        jcr:primaryType="nt:unstructured"
                                        text="Previous and Next Pages"
                                        value="default"/>
                            </options>
                        </paginationType>

                        <detailsBadge
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                fieldLabel="Use Badge"
                                fieldDescripton="Which badge to select from the Details component on the page"
                                name="./detailsBadge"
                                type="select"
                                xtype="selection">

                            <options jcr:primaryType="cq:WidgetCollection">
                                <default
                                        jcr:primaryType="nt:unstructured"
                                        value="image"
                                        text="Default"/>
                                <icon
                                        jcr:primaryType="nt:unstructured"
                                        value="icon"
                                        text="Icon"/>
                                <image
                                        jcr:primaryType="nt:unstructured"
                                        value="image"
                                        text="Image"/>
                                <card
                                        jcr:primaryType="nt:unstructured"
                                        value="card"
                                        text="Card"/>
                            </options>

                        </detailsBadge>
                        <badgeTitleType jcr:primaryType="cq:Widget"
                                   fieldLabel="Badge Title Type"
                                   fieldDescription="which paragraph tag to use for Badge Title display"
                                   allowBlank="{Boolean}true"
                                   name="./badgeTitleType"
                                   options="/etc/tags/component-dialog/html/heading.valuelist.json"
                                   type="select"
                                   defaultValue=""
                                   value=""
                                   xtype="selection"/>
                    </items>
                </listTab>
                <childrenTab
                    jcr:primaryType="cq:Widget"
                    title="Child pages"
                    xtype="panel"
                    name="children">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <parentPage
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current page"
                            fieldLabel="Parent page"
                            name="./parentPage"
                            xtype="pathfield"/>
                    </items>
                </childrenTab>
                <descendantsTab
                    jcr:primaryType="cq:Widget"
                    title="Descendant pages"
                    xtype="panel"
                    name="descendants">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <ancestorPage
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current page"
                            fieldLabel="Parent page"
                            name="./ancestorPage"
                            xtype="pathfield"/>
                    </items>
                    <children
                        jcr:primaryType="cq:Widget"
                        title="Child pages"
                        xtype="panel">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                        <items jcr:primaryType="cq:WidgetCollection">
                            <parentPage
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Leave empty to use current page"
                                fieldLabel="Parent page"
                                name="./parentPage"
                                xtype="pathfield"/>
                        </items>
                    </children>
                </descendantsTab>
                <staticTab
                    jcr:primaryType="cq:Widget"
                    title="Fixed list"
                    xtype="panel"
                    name="static">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <pages
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Click the '+' to add a new page"
                            fieldLabel="Pages"
                            name="./pages"
                            xtype="multifield">
                            <fieldConfig
                                jcr:primaryType="cq:Widget"
                                allowBlank="{Boolean}true"
                                width="155"
                                xtype="pathfield"/>
                        </pages>
                    </items>
                </staticTab>
                <tagsTab
                    jcr:primaryType="cq:Widget"
                    title="Tags"
                    xtype="panel"
                    name="tags">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <parentPage
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current page"
                            fieldLabel="Parent page"
                            name="./tagsSearchRoot"
                            xtype="pathfield"/>
                        <tags
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Tags/Keywords"
                            name="./tags"
                            namespaces="[aemdesign]"
                            xtype="tags"/>
                        <match
                            jcr:primaryType="cq:Widget"
                            defaultValue="any"
                            fieldLabel="Match"
                            name="./tagsMatch"
                            type="select"
                            xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <any
                                    jcr:primaryType="nt:unstructured"
                                    text="any tag"
                                    value="any"/>
                                <all
                                    jcr:primaryType="nt:unstructured"
                                    text="all tags"
                                    value="all"/>
                            </options>
                        </match>
                    </items>
                </tagsTab>
                <searchTab
                    jcr:primaryType="cq:Widget"
                    title="Search"
                    xtype="panel"
                    name="search">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <searchIn
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current site (eg. /content/mysite)"
                            fieldLabel="Start in"
                            name="./searchIn"
                            xtype="pathfield"/>
                        <query
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Search query"
                            name="./query"
                            xtype="textfield"/>
                    </items>
                </searchTab>
                <querybuilderTab
                    jcr:primaryType="cq:Widget"
                    title="Advanced Search"
                    xtype="panel"
                    name="querybuilder">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <savedquery
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Querybuilder predicate notation"
                            name="./savedquery"
                            xtype="textarea"/>
                    </items>
                </querybuilderTab>

                <listConfigTab
                    jcr:primaryType="cq:Widget"
                    border="false"
                    height=""
                    title="Config"
                    width=""
                    xtype="panel">
                    <items jcr:primaryType="cq:WidgetCollection">
                        <printStructure
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Print List Structure"
                            fieldDescription="Don't print structure of the list, omit (OL/UL and LI tags)"
                            allowBlank="{Boolean}true"
                            name="./printStructure"
                            options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                            type="select"
                            defaultValue=""
                            value=""
                            xtype="selection"/>

                        <showHidden
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Show Hidden Pages"
                            fieldDescription="pages with selected Hide in Navigation will be hidden"
                            allowBlank="{Boolean}true"
                            name="./showHidden"
                            options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                            type="select"
                            defaultValue=""
                            value=""
                            xtype="selection"/>

                        <listSplit
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Split list into section"
                            fieldDescription="break list after number of items"
                            allowBlank="{Boolean}true"
                            name="./listSplit"
                            options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                            type="select"
                            defaultValue=""
                            value=""
                            xtype="selection"/>

                        <listSplitEvery
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Split List After Every"
                                fieldDescription="break list after this number of items"
                                name="./listSplitEvery"
                                xtype="numberfield"/>

                    </items>
                </listConfigTab>
                <styleTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/style/items/styleTab.infinity.json"
                        xtype="cqinclude" />
                <accessibilityTab jcr:primaryType="cq:Panel"
                                  path="/apps/aemdesign/global/dialog/classic/accessibility/items/accessibilityTab.infinity.json"
                                  xtype="cqinclude"/>
                <itemConfigTab
                    jcr:primaryType="cq:Panel"
                    border="false"
                    height=""
                    title="Badge Config"
                    width=""
                    xtype="panel">
                    <items jcr:primaryType="cq:WidgetCollection">
                        <itemConfigTabLabel
                                jcr:primaryType="cq:Widget"
                                html="&lt;span style=&quot;color: blue; font-weight: bold; &quot;>This config will be passed to selected badge.&lt;/span>"
                                xtype="label"/>

                        <itemConfig
                                jcr:primaryType="cq:Widget"
                                collapsed="{Boolean}true"
                                collapsible="{Boolean}true"
                                title="List Item"
                                xtype="dialogfieldset">
                            <items jcr:primaryType="cq:WidgetCollection">
                                <listItemShowLink
                                        jcr:primaryType="cq:Widget"
                                        defaultValue=""
                                        value=""
                                        allowBlank="{Boolean}true"
                                        fieldLabel="Show Item Link"
                                        fieldDescription="show a link at the end of text summary pointing to the article"
                                        options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                        name="./listItemShowLink"
                                        type="select"
                                        xtype="selection"/>
                                <listItemLinkTarget jcr:primaryType="cq:Widget"
                                            fieldLabel="Item Link Target"
                                            fieldDescription="how should the link of items behave when clicked"
                                            allowBlank="{Boolean}true"
                                            name="./listItemLinkTarget"
                                            options="/etc/tags/component-dialog/html/linktarget.valuelist.json"
                                            type="select"
                                            defaultValue=""
                                            xtype="selection"/>
                                <listItemLinkText
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Text"
                                        fieldDescription="shows as a link text tag"
                                        name="./listItemLinkText"
                                        xtype="textfield"/>
                                <listItemLinkTitle
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Title"
                                        fieldDescription="shows as a link title tag"
                                        name="./listItemLinkTitle"
                                        xtype="textfield"/>
                                <listItemTitleTrim
                                        jcr:primaryType="cq:Widget"
                                        defaultValue=""
                                        value=""
                                        allowBlank="{Boolean}true"
                                        fieldLabel="Title Trim"
                                        fieldDescription="apply trim on Title field"
                                        options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                        name="./listItemTitleTrim"
                                        type="select"
                                        xtype="selection"/>
                                <listItemTitleLengthMax
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Title Max Length"
                                        fieldDescription="crop Title text after this many characters"
                                        name="./listItemTitleLengthMax"
                                        xtype="numberfield"/>
                                <listItemTitleLengthMaxSuffix
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Title Max Length Suffix"
                                        fieldDescription="add the following text as suffix when cropping Title"
                                        name="./listItemTitleLengthMaxSuffix"
                                        xtype="textfield"/>
                                <listItemSummaryTrim
                                        jcr:primaryType="cq:Widget"
                                        defaultValue=""
                                        value=""
                                        allowBlank="{Boolean}true"
                                        fieldLabel="Summary Trim"
                                        fieldDescription="apply trim on Summary field"
                                        options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                        name="./listItemSummaryTrim"
                                        type="select"
                                        xtype="selection"/>
                                <listItemSummaryLengthMax
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Summary Max Length"
                                        fieldDescription="crop Summary text after this many characters"
                                        name="./listItemSummaryLengthMax"
                                        xtype="numberfield"/>
                                <listItemSummaryLengthMaxSuffix
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Summary Max Length Suffix"
                                        fieldDescription="add the following text as suffix when cropping Summary"
                                        name="./listItemSummaryLengthMaxSuffix"
                                        xtype="textfield"/>
                                <listItemShowOverlayIcon
                                        jcr:primaryType="cq:Widget"
                                        defaultValue=""
                                        value=""
                                        allowBlank="{Boolean}true"
                                        fieldLabel="Display Overlay Icon"
                                        options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                        name="./listItemShowOverlayIcon"
                                        type="select"
                                        xtype="selection"/>
                                <listItemShowRedirectIcon
                                        jcr:primaryType="cq:Widget"
                                        defaultValue=""
                                        value=""
                                        allowBlank="{Boolean}true"
                                        fieldLabel="Display Redirect Icon"
                                        fieldDescription="display an icon to indicate that the page link redirects"
                                        options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                        name="./listItemShowRedirectIcon"
                                        type="select"
                                        xtype="selection"/>

                            </items>
                        </itemConfig>
                        <thumbnailConfig
                            jcr:primaryType="cq:Widget"
                            collapsed="{Boolean}true"
                            collapsible="{Boolean}true"
                            title="Badge Thumbnail Config"
                            xtype="dialogfieldset">
                            <items jcr:primaryType="cq:WidgetCollection">
                                <badgeThumbnailType jcr:primaryType="cq:Widget"
                                             fieldLabel="Thumbnail Image Option"
                                             allowBlank="{Boolean}true"
                                             name="./badgeThumbnailType"
                                             type="select"
                                             defaultValue=""
                                             value=""
                                             xtype="selection">
                                    <options jcr:primaryType="cq:WidgetCollection">
                                        <default
                                                jcr:primaryType="nt:unstructured"
                                                value=""
                                                text="Default"/>
                                        <!--<generated-->
                                                <!--jcr:primaryType="nt:unstructured"-->
                                                <!--value="generated"-->
                                                <!--selectTab="imageConfig"-->
                                                <!--text="Generate: generate new image with current image edits" />-->
                                        <rendition
                                                jcr:primaryType="nt:unstructured"
                                                value="rendition"
                                                selectTab="imageConfig"
                                                text="Rendition: pick a suitable image rendition" />
                                        <!--<responsive-->
                                                <!--jcr:primaryType="nt:unstructured"-->
                                                <!--value="responsive"-->
                                                <!--selectTab="responsiveConfig"-->
                                                <!--text="Responsive: use existing renditions"/>-->
                                        <!--<adaptive-->
                                                <!--jcr:primaryType="nt:unstructured"-->
                                                <!--value="adaptive"-->
                                                <!--selectTab="adaptiveConfig"-->
                                                <!--text="Adaptive: generate new renditions with quality settings for each breakpoint"/>-->
                                    </options>
                                </badgeThumbnailType>

                                <badgeThumbnailSize
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Icon Size (w,h)"
                                        fieldDescription="blank values are not added as attributes"
                                        heightParameter="./badgeThumbnailHeight"
                                        widthParameter="./badgeThumbnailWidth"
                                        xtype="sizefield"/>
                            </items>
                        </thumbnailConfig>
                    </items>
                </itemConfigTab>


                <badgeThumbnailTab
                        jcr:primaryType="cq:Widget"
                        allowUpload="{Boolean}false"
                        name="./badgeThumbnail/file"
                        title="Default Badge Thumbnail"
                        ddGroups="[media]"
                        cropParameter="./badgeThumbnail/imageCrop"
                        fileNameParameter="./badgeThumbnail/fileName"
                        fileReferenceParameter="./badgeThumbnail/fileReference"
                        rotateParameter="./badgeThumbnail/imageRotate"
                        mapParameter="./badgeThumbnail/imageMap"
                        xtype="html5smartimage">
                    <cropConfig jcr:primaryType="nt:unstructured">
                        <aspectRatios jcr:primaryType="nt:unstructured">
                            <freehand
                                    jcr:primaryType="nt:unstructured"
                                    value="0,0"
                                    text="Free hand"/>
                            <twobythree
                                    jcr:primaryType="nt:unstructured"
                                    value="2,3"
                                    text="2 x 3"/>
                            <threebyfive
                                    jcr:primaryType="nt:unstructured"
                                    value="3,5"
                                    text="3 x 5"/>
                            <sixteenbynine
                                    jcr:primaryType="nt:unstructured"
                                    value="16,9"
                                    text="16 x 9"/>
                            <square
                                    jcr:primaryType="nt:unstructured"
                                    value="1,1"
                                    text="Square"/>
                        </aspectRatios>
                    </cropConfig>
                </badgeThumbnailTab>

                <imageThumbnailTabResourceType
                        jcr:primaryType="cq:Panel"
                        title="Thumbnail Image Metadata"
                        fieldDescription="Thumbnail Image Metadata additional fields for saving content of Background Image"
                        xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { AEMDESIGN.dialog.hideTab(this, this.findParentByType('dialog').findByType('tabpanel')[0]); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <imageBackgroundTabResourceType
                                jcr:primaryType="cq:Widget"
                                ignoreData="{Boolean}true"
                                name="./badgeThumbnail/sling:resourceType"
                                value="aemdesign/components/media/image"
                                xtype="textfield"/>
                    </items>
                </imageThumbnailTabResourceType>


                <feedTab
                        jcr:primaryType="cq:Panel"
                        border="false"
                        height=""
                        title="Feed"
                        width=""
                        xtype="panel">
                    <items jcr:primaryType="cq:WidgetCollection">
                        <feedEnabled
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                value=""
                                allowBlank="{Boolean}true"
                                fieldLabel="Enable Feed"
                                options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                name="./feedEnabled"
                                type="select"
                                xtype="selection"/>
                        <feedType
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                fieldLabel="Feed Type"
                                fieldDescription="type of feed to show as icon"
                                name="./feedType"
                                type="select"
                                xtype="selection">

                            <options jcr:primaryType="cq:WidgetCollection">
                                <default jcr:primaryType="nt:unstructured" value="none" text="" />
                                <rss jcr:primaryType="nt:unstructured" value="rss" text="RSS" />
                                <atom jcr:primaryType="nt:unstructured" value="atom" text="Atom" />
                            </options>

                        </feedType>

                    </items>
                </feedTab>


            </items>
        </tabs>
    </items>
</jcr:root>
