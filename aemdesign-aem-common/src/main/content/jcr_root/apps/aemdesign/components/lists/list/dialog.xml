<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Dialog"
    helpPath="en/cq/current/wcm/default_components.html#List"
    title="List"
    selectTab="function(tabToSelect) { AEMDESIGN.author.components.list.manageTabs(this.findByType('tabpanel')[0],tabToSelect,true); }"
    hideTab="function(tabToHide) { AEMDESIGN.author.components.list.hideTab(tabToHide, this.findByType('tabpanel')[0]); }"
    includeTab="function(tabToInclude) { AEMDESIGN.dialog.includeTab(tabToInclude, this.findByType('tabpanel')[0]); }"
    xtype="dialog">
    <items jcr:primaryType="cq:WidgetCollection">
        <tabs jcr:primaryType="cq:TabPanel" xtype="tabpanel">
            <items jcr:primaryType="cq:WidgetCollection">
                <listTab
                    jcr:primaryType="cq:Widget"
                    title="List"
                    name="listTab"
                    xtype="panel">
                    <listeners
                            jcr:primaryType="nt:unstructured"
                            render="function() { this.findParentByType('dialog').includeTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <listFrom
                            jcr:primaryType="cq:Widget"
                            defaultValue=""
                            fieldLabel="Build list using"
                            name="./listFrom"
                            type="select"
                            xtype="selection">
                            <listeners
                                jcr:primaryType="nt:unstructured"
                                loadcontent="function(){ this.findParentByType('dialog').selectTab(this.getValue());}"
                                selectionchanged="function(box,value){ box.findParentByType('dialog').selectTab(value); }"/>
                            <options jcr:primaryType="cq:WidgetCollection">
                                <children
                                    jcr:primaryType="nt:unstructured"
                                    text="Child pages"
                                    value="children"/>
                                <descendants
                                    jcr:primaryType="nt:unstructured"
                                    text="Descendant pages"
                                    value="descendants"/>
                                <static
                                    jcr:primaryType="nt:unstructured"
                                    text="Fixed list"
                                    value="static"/>
                                <tags
                                    jcr:primaryType="nt:unstructured"
                                    text="Tags"
                                    value="tags"/>
                                <search
                                    jcr:primaryType="nt:unstructured"
                                    text="Search"
                                    value="search"/>
                                <querybuilder
                                    jcr:primaryType="nt:unstructured"
                                    text="Advanced Search"
                                    value="querybuilder"/>
                            </options>
                        </listFrom>

                        <orderBy
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Enter a property like 'jcr:created'"
                            fieldLabel="Order by"
                            name="./orderBy"
                            type="select"
                            xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <title
                                    jcr:primaryType="nt:unstructured"
                                    value="jcr:title"/>
                                <created
                                    jcr:primaryType="nt:unstructured"
                                    value="jcr:created"/>
                                <modified
                                    jcr:primaryType="nt:unstructured"
                                    value="cq:lastModified"/>
                                <template
                                    jcr:primaryType="nt:unstructured"
                                    value="cq:template"/>
                            </options>
                        </orderBy>
                        <limit
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Maximum number of items displayed in list"
                            fieldLabel="Limit"
                            name="./limit"
                            xtype="numberfield"/>
                        <pagination
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Paginate after"
                            name="./pageMax"
                            xtype="numberfield"/>

                        <paginationType
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                value=""
                                allowBlank="{Boolean}true"
                                fieldLabel="Pagination Type"
                                name="./paginationType"
                                type="select"
                                xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <default
                                        jcr:primaryType="nt:unstructured"
                                        text="Default"
                                        value=""/>
                               <prev_next_pages
                                        jcr:primaryType="nt:unstructured"
                                        text="Previous and Next Pages"
                                        value="default"/>
                            </options>
                        </paginationType>
                    </items>
                </listTab>
                <childrenTab
                    jcr:primaryType="cq:Widget"
                    title="Child pages"
                    xtype="panel"
                    name="children">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <parentPage
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current page"
                            fieldLabel="Parent page"
                            name="./parentPage"
                            xtype="pathfield"/>
                    </items>
                </childrenTab>
                <descendantsTab
                    jcr:primaryType="cq:Widget"
                    title="Descendant pages"
                    xtype="panel"
                    name="descendants">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <ancestorPage
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current page"
                            fieldLabel="Parent page"
                            name="./ancestorPage"
                            xtype="pathfield"/>
                    </items>
                </descendantsTab>
                <staticTab
                    jcr:primaryType="cq:Widget"
                    title="Fixed list"
                    xtype="panel"
                    name="static">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <pages
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Click the '+' to add a new page"
                            fieldLabel="Pages"
                            name="./pages"
                            xtype="multifield">
                            <fieldConfig
                                jcr:primaryType="cq:Widget"
                                allowBlank="{Boolean}true"
                                width="155"
                                xtype="pathfield"/>
                        </pages>
                    </items>
                </staticTab>
                <tagsTab
                    jcr:primaryType="cq:Widget"
                    title="Tags"
                    xtype="panel"
                    name="tags">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <parentPage
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current page"
                            fieldLabel="Parent page"
                            name="./tagsSearchRoot"
                            xtype="pathfield"/>
                        <tags
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Tags/Keywords"
                            name="./tags"
                            namespaces="[aemdesign]"
                            xtype="tags"/>
                        <match
                            jcr:primaryType="cq:Widget"
                            defaultValue="any"
                            fieldLabel="Match"
                            name="./tagsMatch"
                            type="select"
                            xtype="selection">
                            <options jcr:primaryType="cq:WidgetCollection">
                                <any
                                    jcr:primaryType="nt:unstructured"
                                    text="any tag"
                                    value="any"/>
                                <all
                                    jcr:primaryType="nt:unstructured"
                                    text="all tags"
                                    value="all"/>
                            </options>
                        </match>
                    </items>
                </tagsTab>
                <searchTab
                    jcr:primaryType="cq:Widget"
                    title="Search"
                    xtype="panel"
                    name="search">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <searchIn
                            jcr:primaryType="cq:Widget"
                            fieldDescription="Leave empty to use current site (eg. /content/mysite)"
                            fieldLabel="Start in"
                            name="./searchIn"
                            xtype="pathfield"/>
                        <query
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Search query"
                            name="./query"
                            xtype="textfield"/>
                    </items>
                </searchTab>
                <querybuilderTab
                    jcr:primaryType="cq:Widget"
                    title="Advanced Search"
                    xtype="panel"
                    name="querybuilder">
                    <listeners
                        jcr:primaryType="nt:unstructured"
                        render="function() { this.findParentByType('dialog').hideTab(this); }"/>
                    <items jcr:primaryType="cq:WidgetCollection">
                        <savedquery
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Querybuilder predicate notation"
                            name="./savedquery"
                            xtype="textarea"/>
                    </items>
                </querybuilderTab>

                <listConfigTab
                    jcr:primaryType="cq:Widget"
                    border="false"
                    height=""
                    title="Config"
                    width=""
                    xtype="panel">
                    <items jcr:primaryType="cq:WidgetCollection">
                        <detailsBadge
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                fieldLabel="Use Badge"
                                fieldDescription="Which badge to select from the Details component on the page"
                                name="./detailsBadge"
                                type="select"
                                xtype="selection">

                            <options jcr:primaryType="cq:WidgetCollection">
                                <default
                                        jcr:primaryType="nt:unstructured"
                                        value="image"
                                        text="Default"/>
                                <icon
                                        jcr:primaryType="nt:unstructured"
                                        value="icon"
                                        text="Icon"/>
                                <image
                                        jcr:primaryType="nt:unstructured"
                                        value="image"
                                        text="Image"/>
                                <card
                                        jcr:primaryType="nt:unstructured"
                                        value="card"
                                        text="Card with Image"/>
                                <cardIcon
                                        jcr:primaryType="nt:unstructured"
                                        value="cardIcon"
                                        text="Card with Icon"/>
                                <cardIconAction
                                        jcr:primaryType="nt:unstructured"
                                        value="cardIconAction"
                                        text="Card with Icon and CTA"/>
                                <cardAction
                                        jcr:primaryType="nt:unstructured"
                                        value="cardAction"
                                        text="Card with Image and CTA"/>
                                <cardIconSelect
                                        jcr:primaryType="nt:unstructured"
                                        value="cardIconSelect"
                                        text="Clickable Card with Icon"/>
                                <cardSelect
                                        jcr:primaryType="nt:unstructured"
                                        value="cardSelect"
                                        text="Clickable Card with Image "/>
                                <cardHorizontal
                                        jcr:primaryType="nt:unstructured"
                                        value="cardHorizontal"
                                        text="Horizontal Card"/>
                            </options>

                        </detailsBadge>

                        <printStructure
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Print List Structure"
                            fieldDescription="Don't print structure of the list, omit (OL/UL and LI tags)"
                            allowBlank="{Boolean}true"
                            name="./printStructure"
                            options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                            type="select"
                            defaultValue=""
                            value=""
                            xtype="selection"/>

                        <showHidden
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Show Hidden Pages"
                            fieldDescription="pages with selected Hide in Navigation will be hidden"
                            allowBlank="{Boolean}true"
                            name="./showHidden"
                            options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                            type="select"
                            defaultValue=""
                            value=""
                            xtype="selection"/>

                        <listSplit
                            jcr:primaryType="cq:Widget"
                            fieldLabel="Split list into section"
                            fieldDescription="break list after number of items"
                            allowBlank="{Boolean}true"
                            name="./listSplit"
                            options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                            type="select"
                            defaultValue=""
                            value=""
                            xtype="selection"/>

                        <listSplitEvery
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Split List After Every"
                                fieldDescription="break list after this number of items"
                                name="./listSplitEvery"
                                xtype="numberfield"/>

                    </items>
                </listConfigTab>

                <badgeConfigTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/badge/items/badgeConfigTab.infinity.json"
                        xtype="cqinclude" />

                <badgeThumbnailTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/images/items/badgeThumbnailTab.infinity.json"
                        xtype="cqinclude" />

                <badgeThumbnailTabResourceType
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/images/items/badgeThumbnailTabResourceType.infinity.json"
                        xtype="cqinclude" />


                <feedTab
                        jcr:primaryType="cq:Panel"
                        border="false"
                        height=""
                        title="Feed"
                        width=""
                        xtype="panel">
                    <items jcr:primaryType="cq:WidgetCollection">
                        <feedEnabled
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                value=""
                                allowBlank="{Boolean}true"
                                fieldLabel="Enable Feed"
                                options="/etc/tags/component-dialog/common/yes-no.valuelist.json"
                                name="./feedEnabled"
                                type="select"
                                xtype="selection"/>
                        <feedType
                                jcr:primaryType="cq:Widget"
                                defaultValue=""
                                fieldLabel="Feed Type"
                                fieldDescription="type of feed to show as icon"
                                name="./feedType"
                                type="select"
                                xtype="selection">

                            <options jcr:primaryType="cq:WidgetCollection">
                                <default jcr:primaryType="nt:unstructured" value="none" text="" />
                                <rss jcr:primaryType="nt:unstructured" value="rss" text="RSS" />
                                <atom jcr:primaryType="nt:unstructured" value="atom" text="Atom" />
                            </options>

                        </feedType>

                    </items>
                </feedTab>

                <styleTab
                        jcr:primaryType="cq:Widget"
                        path="/apps/aemdesign/global/dialog/classic/style/items/styleTab.infinity.json"
                        xtype="cqinclude" />
                <accessibilityTab jcr:primaryType="cq:Panel"
                                  path="/apps/aemdesign/global/dialog/classic/accessibility/items/accessibilityTab.infinity.json"
                                  xtype="cqinclude"/>


            </items>
        </tabs>
    </items>
</jcr:root>
